{% extends "layout.html" %}
{% from "bootstrap.html" import colorful_label with context %}

{% block title %}Manage SoftCAMs{% endblock %}

{% block content %}
  <div class="card">
    <div class="table-responsive-sm">
      <table class="table table-hover table-vcenter card-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Server</th>
            <th>Port</th>
            <th>CAID</th>
            <th>Settings</th>
          </tr>
        </thead>
        {% for softcam in softcams %}
          <tr>
            <td>{{ softcam.id }}</td>
            <td><div class="badge bg-primary">{{ softcam.name }}</div></td>
            <td>{{ softcam.server }}</td>
            <td>{{ softcam.port }}</td>
            <td>{{ '0x{:04x}'.format(softcam.caid) if softcam.caid else '' }}</td>
            <td>
              <a href="/softcam/{{ softcam.id }}/settings" class="btn btn-link">
                <i class="fa fa-cog" title="settings"></i>
              </a>

              <form action="/softcam/{{ softcam.id }}/delete" method="post">
                <button type="submit" class="btn btn-link"
                        data-toggle="confirmation"
                        data-message="Please confirm to delete the softcam {{ softcam.id }} {{ softcam.name}}?">
                  <i class="fa fa-times text-danger" title="delete"></i>
                </button>
              </form>
            </td>
          </tr>
        {% endfor %}
        <tbody>
        </tbody>
      </table>
    </div>
  </div>

  <script>
      var table = $('.table').DataTable({
          paging: false,
          searching: false,
          info: false
      });
  </script>
{% endblock %}
