{% extends "layout.html" %}
{% from "bootstrap.html" import table with context %}

{% block title %}Manage Bouquets{% endblock %}

{% block content %}
  {% call table(columns=['ID', 'Name', 'Streams', 'Movies', 'Series', 'Settings']) %}
    {% for bouquet in bouquets %}
      <tr>
        <td class="col-1">{{ bouquet.id }}</td>
        <td><div class="badge bg-primary">{{ bouquet.name }}</div></td>
        <td>{{ bouquet.streams|length }}</td>
        <td>{{ bouquet.movies|length }}</td>
        <td>{{ bouquet.series|length }}</td>
        <td class="col-2">
          <a href="{{ url_for('bouquet.settings', bouquet=bouquet) }}" class="btn btn-link">
            <i class="fa fa-cog" title="settings"></i>
          </a>

          <form action="{{ url_for('bouquet.delete', bouquet=bouquet) }}" method="post">
            <button type="submit" class="btn btn-link"
                    data-toggle="confirmation"
                    data-message="Please confirm to delete the bouquet {{ bouquet.id }} {{ bouquet.name }}?">
              <i class="fa fa-times text-danger" title="delete"></i>
            </button>
          </form>
        </td>
      </tr>
    {% endfor %}
  {% endcall %}
{% endblock %}
